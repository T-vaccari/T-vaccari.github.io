<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tommaso's Portfolio</title>
    <link rel="stylesheet" href="CSS/style.css">
</head>
<body>

<header>
    <h1>Tommaso's Portfolio</h1>
</header>

<nav>
    <a href="#Biography">Biography</a>
    <a href="#Education">Education</a>
    <a href="#contacts">Contacts</a>
    <a href="docs/TommasoVaccari_CV.pdf">CV</a>
    <a href="now.html">Now Page</a>
</nav>

<img src="Immgs/IMG_4406.jpeg" alt="Photo" class="profile-pic">

<section id="Biography">
    <h2>Biography</h2>
    <p>I am a Software Engineering student at the Politecnico di Milano...</p>
</section>

<section id="Education">
    <h2>Education</h2>
    <ul>
        <li><strong>Politecnico di Milano</strong>, Milan, Italy<br>
            Bachelor of Science in Software Engineering (expected 2026)<br>
            Currently in the second year of studies.
        </li>
        <li><strong>Liceo Scientifico</strong>, Ferrara, Italy<br>
            Graded in June 2023, with 100/100
        </li>
    </ul>
</section>

<section id="contacts">
    <h2>Contacts</h2>
    <p>Linkedin: <a href="https://www.linkedin.com/in/tommaso-vaccari-97b36b298/" target="_blank">Tommaso Vaccari</a></p>
    <p>GitHub: <a href="https://github.com/T-vaccari" target="_blank">T-vaccari</a></p>
    <p>You can reach me via email at: <a href="mailto:tommaso.vaccari@mail.polimi.it">tommaso.vaccari@mail.polimi.it</a></p>
</section>

<section id="hidden-content" style="display:none;">
    <h2>Hidden Content</h2>
    <p>This content is only visible to authenticated users.</p>
</section>

<section id="login-form">
    <h2>Login</h2>
    <input type="email" id="login-email" placeholder="Email">
    <input type="password" id="login-password" placeholder="Password">
    <button onclick="login()">Login</button>
    <p>Don't have an account? <a href="#" onclick="showRegisterForm()">Register here</a></p>
    <div id="login-success" style="color: green; display: none;">Login successful!</div>
    <div id="login-error" style="color: red;"></div>
</section>

<section id="register-form" style="display:none;">
    <h2>Register</h2>
    <input type="email" id="register-email" placeholder="Email">
    <input type="password" id="register-password" placeholder="Password">
    <button onclick="register()">Register</button>
    <p>Already have an account? <a href="#" onclick="showLoginForm()">Login here</a></p>
    <div id="register-error" style="color: red;"></div>
</section>

<footer>
    <p>&copy; 2024 Tommaso's Portfolio. All rights reserved.</p>
</footer>

<!-- Firebase Integration -->
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyA1DexPJBZ...",
        authDomain: "my-website-e21b9.firebaseapp.com",
        projectId: "my-website-e21b9",
        storageBucket: "my-website-e21b9.appspot.com",
        messagingSenderId: "338895083162",
        appId: "1:338895083162:web:c873b814cd907ac731b123",
        measurementId: "G-Z09DCP3TL8"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Register Function
    function register() {
        const email = document.getElementById('register-email').value;
        const password = document.getElementById('register-password').value;
        createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in
                const user = userCredential.user;
                console.log('User registered:', user);
                showLoginForm();
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.error('Error registering:', errorCode, errorMessage);
                document.getElementById('register-error').innerText = `Error: ${errorMessage}`;
            });
    }

    // Login Function
    function login() {
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in
                const user = userCredential.user;
                console.log('User signed in:', user);
                document.getElementById('hidden-content').style.display = 'block';
                document.getElementById('login-form').style.display = 'none';
                document.getElementById('register-form').style.display = 'none';
                document.getElementById('login-success').style.display = 'block';
                document.getElementById('login-error').style.display = 'none';
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.error('Error signing in:', errorCode, errorMessage);
                document.getElementById('login-error').innerText = `Error: ${errorMessage}`;
                document.getElementById('login-success').style.display = 'none';
            });
    }

    // Monitor Auth State
    onAuthStateChanged(auth, (user) => {
        if (user) {
            document.getElementById('hidden-content').style.display = 'block';
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('register-form').style.display = 'none';
            document.getElementById('login-success').style.display = 'block';
            document.getElementById('login-error').style.display = 'none';
        } else {
            document.getElementById('hidden-content').style.display = 'none';
            document.getElementById('login-form').style.display = 'block';
            document.getElementById('register-form').style.display = 'none';
            document.getElementById('login-success').style.display = 'none';
        }
    });

    // Logout Function (Optional)
    function logout() {
        signOut(auth).then(() => {
            console.log('User signed out');
        }).catch((error) => {
            console.error('Error signing out:', error);
        });
    }

    // Show Login Form
    function showLoginForm() {
        document.getElementById('login-form').style.display = 'block';
        document.getElementById('register-form').style.display = 'none';
    }

    // Show Register Form
    function showRegisterForm() {
        document.getElementById('login-form').style.display = 'none';
        document.getElementById('register-form').style.display = 'block';
    }
</script>

</body>
</html>

